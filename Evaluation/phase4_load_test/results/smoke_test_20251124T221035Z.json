{
  "config": {
    "experiment": {
      "name": "phase4_smoke_test",
      "description": "Quick smoke test of Phase 4 load test infrastructure",
      "duration_seconds": 60,
      "djinn_server_address": "localhost:5556",
      "sla": {
        "p99_latency_ms": 1000,
        "error_rate": 0.1,
        "gpu_utilization": 0.2
      }
    },
    "user_classes": {
      "llm_users": {
        "count": 6,
        "percentage": 60,
        "workload": {
          "implementation": "hf_causal_lm",
          "params": {
            "model_id": "sshleifer/tiny-gpt2",
            "prompt_text": "Djinn orchestrates disaggregated accelerators.",
            "prompt_length": 32,
            "new_tokens": 16,
            "batch_size": 1,
            "unit_name": "tokens"
          }
        },
        "request_pattern": {
          "requests_per_minute": 5,
          "burst_probability": 0.05
        }
      },
      "vision_users": {
        "count": 3,
        "percentage": 30,
        "workload": {
          "implementation": "hf_vision",
          "params": {
            "model_id": "microsoft/resnet-50",
            "batch_size": 2,
            "image_size": 224,
            "unit_name": "images"
          }
        },
        "request_pattern": {
          "requests_per_minute": 3,
          "burst_probability": 0.02
        }
      },
      "multimodal_users": {
        "count": 1,
        "percentage": 10,
        "workload": {
          "implementation": "hf_multimodal",
          "params": {
            "model_id": "openai/clip-vit-base-patch32",
            "batch_size": 1,
            "image_size": 224,
            "text_length": 77,
            "unit_name": "pairs"
          }
        },
        "request_pattern": {
          "requests_per_minute": 2,
          "burst_probability": 0.01
        }
      }
    },
    "metrics": {
      "collection_interval_seconds": 0.5,
      "output_file": "Evaluation/phase4_load_test/results/smoke_test_{timestamp}.json"
    }
  },
  "metrics": {
    "duration_seconds": 67.94833946228027,
    "total_requests": 44,
    "successful_requests": 42,
    "failed_requests": 2,
    "error_rate": 0.045454545454545456,
    "latency_ms_p50": 175.8254379965365,
    "latency_ms_p90": 3719.06008310616,
    "latency_ms_p95": 4714.551348146051,
    "latency_ms_p99": 0.0,
    "throughput_per_s": 0.6181166505667911,
    "gpu_utilization_pct": 0.17777777777777778,
    "gpu_utilization_samples": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.0,
      0.0,
      0.0,
      21.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "gpu_memory_used_mb": 12650.122685185184,
    "per_class_metrics": {
      "llm_users": {
        "total_requests": 33,
        "successful_requests": 33,
        "failed_requests": 0,
        "error_rate": 0.0,
        "latency_ms_p50": 176.45197082310915,
        "latency_ms_p99": 0.0,
        "throughput_per_s": 0.485663082588193
      },
      "vision_users": {
        "total_requests": 9,
        "successful_requests": 9,
        "failed_requests": 0,
        "error_rate": 0.0,
        "latency_ms_p50": 77.85791903734207,
        "latency_ms_p99": 0.0,
        "throughput_per_s": 0.13245356797859809
      },
      "multimodal_users": {
        "total_requests": 2,
        "successful_requests": 0,
        "failed_requests": 2,
        "error_rate": 1.0,
        "latency_ms_p50": 0.0,
        "latency_ms_p99": 0.0,
        "throughput_per_s": 0.0
      }
    },
    "sla_violations": {
      "p99_latency": false,
      "error_rate": false,
      "gpu_utilization": false
    }
  },
  "raw_metrics": [
    {
      "user_id": 0,
      "user_class": "llm_users",
      "latency_ms": 3719.4453170523047,
      "success": true,
      "timestamp": 1764022171.655032
    },
    {
      "user_id": 0,
      "user_class": "llm_users",
      "latency_ms": 161.24795563519,
      "success": true,
      "timestamp": 1764022183.8249772
    },
    {
      "user_id": 0,
      "user_class": "llm_users",
      "latency_ms": 187.8597130998969,
      "success": true,
      "timestamp": 1764022196.0163682
    },
    {
      "user_id": 0,
      "user_class": "llm_users",
      "latency_ms": 171.38769011944532,
      "success": true,
      "timestamp": 1764022208.191091
    },
    {
      "user_id": 0,
      "user_class": "llm_users",
      "latency_ms": 171.54523730278015,
      "success": true,
      "timestamp": 1764022220.3717868
    },
    {
      "user_id": 0,
      "user_class": "llm_users",
      "latency_ms": 32.0923188701272,
      "success": true,
      "timestamp": 1764022220.4040082
    },
    {
      "user_id": 0,
      "user_class": "llm_users",
      "latency_ms": 23.558166809380054,
      "success": true,
      "timestamp": 1764022220.4276762
    },
    {
      "user_id": 0,
      "user_class": "llm_users",
      "latency_ms": 21.464436315000057,
      "success": true,
      "timestamp": 1764022220.449248
    },
    {
      "user_id": 1,
      "user_class": "llm_users",
      "latency_ms": 3718.1612038984895,
      "success": true,
      "timestamp": 1764022171.6581469
    },
    {
      "user_id": 1,
      "user_class": "llm_users",
      "latency_ms": 161.41991037875414,
      "success": true,
      "timestamp": 1764022183.8261497
    },
    {
      "user_id": 1,
      "user_class": "llm_users",
      "latency_ms": 187.36994732171297,
      "success": true,
      "timestamp": 1764022196.0177717
    },
    {
      "user_id": 1,
      "user_class": "llm_users",
      "latency_ms": 173.98004233837128,
      "success": true,
      "timestamp": 1764022208.1952477
    },
    {
      "user_id": 1,
      "user_class": "llm_users",
      "latency_ms": 174.42425806075335,
      "success": true,
      "timestamp": 1764022220.376616
    },
    {
      "user_id": 2,
      "user_class": "llm_users",
      "latency_ms": 3716.2350872531533,
      "success": true,
      "timestamp": 1764022171.6596992
    },
    {
      "user_id": 2,
      "user_class": "llm_users",
      "latency_ms": 162.12535928934813,
      "success": true,
      "timestamp": 1764022183.8280156
    },
    {
      "user_id": 2,
      "user_class": "llm_users",
      "latency_ms": 189.21255972236395,
      "success": true,
      "timestamp": 1764022196.0218475
    },
    {
      "user_id": 2,
      "user_class": "llm_users",
      "latency_ms": 178.38285863399506,
      "success": true,
      "timestamp": 1764022208.201512
    },
    {
      "user_id": 2,
      "user_class": "llm_users",
      "latency_ms": 175.94091035425663,
      "success": true,
      "timestamp": 1764022220.3801038
    },
    {
      "user_id": 3,
      "user_class": "llm_users",
      "latency_ms": 3713.660185225308,
      "success": true,
      "timestamp": 1764022171.6605308
    },
    {
      "user_id": 3,
      "user_class": "llm_users",
      "latency_ms": 166.98699165135622,
      "success": true,
      "timestamp": 1764022183.8335059
    },
    {
      "user_id": 3,
      "user_class": "llm_users",
      "latency_ms": 189.99818246811628,
      "success": true,
      "timestamp": 1764022196.0253663
    },
    {
      "user_id": 3,
      "user_class": "llm_users",
      "latency_ms": 185.52976101636887,
      "success": true,
      "timestamp": 1764022208.2117946
    },
    {
      "user_id": 3,
      "user_class": "llm_users",
      "latency_ms": 176.45197082310915,
      "success": true,
      "timestamp": 1764022220.3891091
    },
    {
      "user_id": 4,
      "user_class": "llm_users",
      "latency_ms": 3713.985729031265,
      "success": true,
      "timestamp": 1764022171.664215
    },
    {
      "user_id": 4,
      "user_class": "llm_users",
      "latency_ms": 171.98405135422945,
      "success": true,
      "timestamp": 1764022183.8395958
    },
    {
      "user_id": 4,
      "user_class": "llm_users",
      "latency_ms": 185.65469235181808,
      "success": true,
      "timestamp": 1764022196.026091
    },
    {
      "user_id": 4,
      "user_class": "llm_users",
      "latency_ms": 184.48190856724977,
      "success": true,
      "timestamp": 1764022208.2126317
    },
    {
      "user_id": 4,
      "user_class": "llm_users",
      "latency_ms": 175.70996563881636,
      "success": true,
      "timestamp": 1764022220.3900542
    },
    {
      "user_id": 5,
      "user_class": "llm_users",
      "latency_ms": 3710.981298238039,
      "success": true,
      "timestamp": 1764022171.6648135
    },
    {
      "user_id": 5,
      "user_class": "llm_users",
      "latency_ms": 172.17308469116688,
      "success": true,
      "timestamp": 1764022183.8403728
    },
    {
      "user_id": 5,
      "user_class": "llm_users",
      "latency_ms": 185.65736711025238,
      "success": true,
      "timestamp": 1764022196.027712
    },
    {
      "user_id": 5,
      "user_class": "llm_users",
      "latency_ms": 184.67453308403492,
      "success": true,
      "timestamp": 1764022208.2142997
    },
    {
      "user_id": 5,
      "user_class": "llm_users",
      "latency_ms": 175.53639132529497,
      "success": true,
      "timestamp": 1764022220.3919854
    },
    {
      "user_id": 6,
      "user_class": "vision_users",
      "latency_ms": 5009.71073191613,
      "success": true,
      "timestamp": 1764022172.9681573
    },
    {
      "user_id": 6,
      "user_class": "vision_users",
      "latency_ms": 77.85791903734207,
      "success": true,
      "timestamp": 1764022193.0543234
    },
    {
      "user_id": 6,
      "user_class": "vision_users",
      "latency_ms": 74.3345059454441,
      "success": true,
      "timestamp": 1764022213.1386163
    },
    {
      "user_id": 7,
      "user_class": "vision_users",
      "latency_ms": 4749.75873529911,
      "success": true,
      "timestamp": 1764022172.9661863
    },
    {
      "user_id": 7,
      "user_class": "vision_users",
      "latency_ms": 81.3540443778038,
      "success": true,
      "timestamp": 1764022193.053748
    },
    {
      "user_id": 7,
      "user_class": "vision_users",
      "latency_ms": 77.83575914800167,
      "success": true,
      "timestamp": 1764022213.1375077
    },
    {
      "user_id": 8,
      "user_class": "vision_users",
      "latency_ms": 4515.042820945382,
      "success": true,
      "timestamp": 1764022172.9767933
    },
    {
      "user_id": 8,
      "user_class": "vision_users",
      "latency_ms": 74.37007501721382,
      "success": true,
      "timestamp": 1764022193.055518
    },
    {
      "user_id": 8,
      "user_class": "vision_users",
      "latency_ms": 70.13127207756042,
      "success": true,
      "timestamp": 1764022213.1397564
    },
    {
      "user_id": 9,
      "user_class": "multimodal_users",
      "latency_ms": null,
      "success": false,
      "error": "Cannot execute model djinn_v1:44ea1fa9e4be7702: no coordinator available. Ensure Djinn server is running and client is connected.",
      "timestamp": 1764022175.852555
    },
    {
      "user_id": 9,
      "user_class": "multimodal_users",
      "latency_ms": null,
      "success": false,
      "error": "Cannot execute model djinn_v1:44ea1fa9e4be7702: no coordinator available. Ensure Djinn server is running and client is connected.",
      "timestamp": 1764022205.8803222
    }
  ]
}